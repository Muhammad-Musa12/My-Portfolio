<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Muhammad Musa | Dynamic Portfolio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #3b82f6; /* Tailwind blue-500 */
            --secondary-color: #10b981; /* Tailwind emerald-500 */
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0f172a; /* Slate-900 for dark mode background */
            color: #f8fafc; /* Slate-50 for text */
            line-height: 1.6;
            scroll-behavior: smooth;
        }
        /* Custom scrollbar for aesthetics */
        body::-webkit-scrollbar { width: 8px; }
        body::-webkit-scrollbar-track { background: #0f172a; }
        body::-webkit-scrollbar-thumb { background: #334155; border-radius: 10px; }
        body::-webkit-scrollbar-thumb:hover { background: #475569; }

        /* --- NEW: Background Animation Container --- */
        #background-animation-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -10; /* Ensure it's behind everything */
            overflow: hidden;
            /* Initial state and start the color shift animation */
            background: linear-gradient(-45deg, #1e3a8a, #064e3b, #1e40af, #047857);
            background-size: 400% 400%;
            animation: color-shift 20s ease infinite;
        }

        @keyframes color-shift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        /* --- NEW: Glowing Particle Styles --- */
        .particle {
            position: absolute;
            border-radius: 50%;
            opacity: 0;
            animation: move-particles linear infinite;
        }

        /* Define movement and size animation for particles */
        @keyframes move-particles {
            0% {
                transform: translate(0, 0) scale(0.5);
                opacity: 0.1;
            }
            25% {
                transform: translate(20vw, 15vh) scale(0.8);
                opacity: 0.3;
            }
            50% {
                transform: translate(60vw, 50vh) scale(1.0);
                opacity: 0.5;
            }
            75% {
                transform: translate(80vw, 85vh) scale(0.7);
                opacity: 0.2;
            }
            100% {
                transform: translate(0, 0) scale(0.5);
                opacity: 0.1;
            }
        }
        /* End of NEW Styles */


        /* Custom Styles for Animation and Glow */
        .dynamic-glow {
            text-shadow: 0 0 5px rgba(59, 130, 246, 0.5), 0 0 10px rgba(59, 130, 246, 0.3);
        }
        .skill-chip {
            transition: all 0.3s ease;
            cursor: default;
        }
        .skill-chip:hover {
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.4);
        }
        .timeline-dot {
            background-color: var(--secondary-color);
        }
        .timeline-line {
            background: linear-gradient(to bottom, #475569, #1e293b);
        }

        /* Scroll Animation CSS */
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(40px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }
        .fade-in {
            opacity: 1;
            transform: translateY(0);
        }
        /* Chatbot Modal Background */
        .modal-bg {
            background-color: rgba(15, 23, 42, 0.8); /* Slate-900 transparent */
        }
    </style>
</head>
<body class="antialiased">

    <!-- NEW: Background Animation Layer -->
    <div id="background-animation-container"></div>
    
    <!-- Navbar -->
    <nav class="sticky top-0 z-50 bg-slate-900/95 backdrop-blur-md shadow-lg border-b border-slate-700">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <a href="#hero" class="text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-emerald-400">
                    Musa.AI
                </a>
                <div class="hidden md:flex space-x-8 text-sm font-medium">
                    <a href="#about" class="text-slate-300 hover:text-white transition duration-200">About</a>
                    <a href="#skills" class="text-slate-300 hover:text-white transition duration-200">Skills</a>
                    <a href="#projects" class="text-slate-300 hover:text-white transition duration-200">Projects</a>
                    <a href="#experience" class="text-slate-300 hover:text-white transition duration-200">Experience</a>
                </div>
            </div>
        </div>
    </nav>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">

        <!-- CHATBOT TOP BAR (The "Search Tab" that's visible at the top) -->
        <div id="chat-button-top" class="sticky top-16 z-40 w-full pt-4 pb-2 md:pt-6 md:pb-4 bg-slate-900/95 backdrop-blur-md transition-opacity duration-300">
            <button class="w-full flex items-center justify-start p-4 bg-slate-800 border border-slate-700 rounded-xl shadow-lg hover:bg-slate-700/50 transition-colors cursor-pointer text-slate-400">
                <!-- Search Icon -->
                <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                <span class="font-medium">Ask Musa.AI anything about my profile...</span>
            </button>
        </div>
        
        <!-- 1. HERO SECTION (Dynamic Impact) -->
 <section id="hero" class="py-24 md:py-32 flex items-center justify-center min-h-[80vh] text-center animate-on-scroll">
    <div>
        <h1 class="text-4xl sm:text-6xl lg:text-8xl font-extrabold mb-4">
            <span class="text-slate-200 dynamic-glow">MUHAMMAD MUSA</span>
        </h1>
        <p class="text-xl sm:text-3xl lg:text-4xl font-light text-slate-400 mb-8">
            AI & Blockchain Student
        </p>
        
        <a href="mailto:muhammadmusaimran18.10e@gmail.com" 
           class="inline-flex items-center 
                  bg-emerald-600 hover:bg-emerald-700 
                  text-white font-semibold 
                  px-8 py-4 mt-6 
                  rounded-full shadow-lg 
                  transition-colors duration-300 transform hover:scale-105">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-6 h-6 mr-3">
                <path d="M2.5 3A1.5 1.5 0 0 0 1 4.5v.793c.026.009.051.02.076.032L7.674 8.51c.206.1.446.1.652 0l6.598-3.185A.755.755 0 0 1 15 5.293V4.5A1.5 1.5 0 0 0 13.5 3h-11Z" />
                <path d="M15 6.954 8.978 9.86a2.25 2.25 0 0 1-1.956 0L1 6.954V11.5A1.5 1.5 0 0 0 2.5 13h11a1.5 1.5 0 0 0 1.5-1.5V6.954Z" />
            </svg>
            
            Get In Touch
        </a>
    </div>
</section>

        <!-- 2. ABOUT/SUMMARY -->
        <section id="about" class="py-16 md:py-24 border-t border-slate-800 animate-on-scroll">
            <h2 class="text-4xl font-bold mb-8 text-blue-400">About Me</h2>
            <div class="bg-slate-800 p-8 rounded-xl shadow-2xl">
                <p class="text-slate-300 text-lg">
                Hi, I'm Muhammad â€” an aspiring Artificial Intelligence specialist with a strong passion for Blockchain technology, web development, and data systems. I'm currently pursuing a B.Sc. in Artificial Intelligence and expanding my global academic experience as an Exchange Student at Kyungdong University in South Korea.

As a Research Assistant at the University of Central Punjab, I've developed expertise in project management, collaborative teamwork, and consistently meeting research deadlines. My work includes a peer-reviewed project on a Blockchain and AI-based Triage Model, reflecting my commitment to building secure and innovative systems.

Beyond research, I remotely design and develop websites and SaaS platforms, combining creativity with technical precision. I work with a wide range of tools and technologies, including:

Web Development: HTML, CSS, JavaScript, React, Node.js

AI & Machine Learning: Python, PyTorch, TensorFlow

Blockchain & DLT: Smart contracts, decentralized apps (DApps)

Databases: MySQL, SQLite

I thrive in collaborative environments and am passionate about continuous learning, academic excellence, and creating solutions that merge intelligence with impact.
 </p>
                <div class="mt-6 pt-4 border-t border-slate-700 grid grid-cols-2 sm:grid-cols-4 gap-4 text-center">
                    <div class="text-slate-400">Phone: <span class="text-white block">+92 344 0043966 <br>+82 10 7467 5348 </span></div>
                    <div class="text-slate-400">Location: <span class="text-white block">46 Bongpo 4-gil, Toseong-myeon, Goseong-gun, Gangwon-do
Kyungdong University Yang Hyeon-won Dormitory, South Korea</span></div>
                    <div class="text-slate-400">Degree: <span class="text-white block">B.Sc. AI (Expected Oct 2027)</span></div>
                    <div class="text-slate-400">Research Status: <span class="text-white block">Under Peer Review</span></div>
                </div>
            </div>
        </section>

        <!-- 3. SKILLS MATRIX (Visual Showcase) -->
        <section id="skills" class="py-16 md:py-24 border-t border-slate-800 animate-on-scroll">
            <h2 class="text-4xl font-bold mb-8 text-emerald-400">Technical Skills & Expertise</h2>

            <div class="space-y-10">
                <!-- Programming/Tools -->
                <div class="animate-on-scroll">
                    <h3 class="text-2xl font-semibold mb-4 text-slate-200">Programming / Tools</h3>
                    <div class="flex flex-wrap gap-3">
                        <span class="skill-chip bg-blue-600/30 text-blue-300 px-4 py-1 rounded-full shadow-lg border border-blue-600">Python</span>
                        <span class="skill-chip bg-blue-600/30 text-blue-300 px-4 py-1 rounded-full shadow-lg border border-blue-600">PyTorch</span>
                        <span class="skill-chip bg-blue-600/30 text-blue-300 px-4 py-1 rounded-full shadow-lg border border-blue-600">TensorFlow</span>
                        <span class="skill-chip bg-blue-600/30 text-blue-300 px-4 py-1 rounded-full shadow-lg border border-blue-600">C++</span>
                        <span class="skill-chip bg-blue-600/30 text-blue-300 px-4 py-1 rounded-full shadow-lg border border-blue-600">HTML</span>
                        <span class="skill-chip bg-blue-600/30 text-blue-300 px-4 py-1 rounded-full shadow-lg border border-blue-600">CSS</span>
                        <span class="skill-chip bg-blue-600/30 text-blue-300 px-4 py-1 rounded-full shadow-lg border border-blue-600">Jupyter</span>
                        <span class="skill-chip bg-blue-600/30 text-blue-300 px-4 py-1 rounded-full shadow-lg border border-blue-600">VS Code</span>
                    </div>
                </div>

                <!-- Certifications (AI/Blockchain Focus) -->
                <div class="animate-on-scroll">
                    <h3 class="text-2xl font-semibold mb-4 text-slate-200">Key Certifications</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                        
                        <div class="p-4 bg-slate-800 rounded-lg border border-emerald-600/50 hover:border-emerald-500 transition-colors">
                            <p class="font-bold text-emerald-400">Artificial Intelligence</p>
                            <p class="text-slate-400">NAVTTC | June 2025</p>
                        </div>
                        <div class="p-4 bg-slate-800 rounded-lg border border-emerald-600/50 hover:border-emerald-500 transition-colors">
                            <p class="font-bold text-emerald-400">Blockchain Technology</p>
                            <p class="text-slate-400">NAVTTC | June 2025</p>
                        </div>
                        <div class="p-4 bg-slate-800 rounded-lg border border-emerald-600/50 hover:border-emerald-500 transition-colors">
                            <p class="font-bold text-emerald-400">Deep Learning Specialization</p>
                            <p class="text-slate-400">DeepLearning.AI | May 2025</p>
                        </div>
                        <div class="p-4 bg-slate-800 rounded-lg border border-emerald-600/50 hover:border-emerald-500 transition-colors">
                            <p class="font-bold text-emerald-400">Cybersecurity Foundations</p>
                            <p class="text-slate-400">Packt | May 2025</p>
                        </div>
                        <div class="p-4 bg-slate-800 rounded-lg border border-emerald-600/50 hover:border-emerald-500 transition-colors">
                            <p class="font-bold text-emerald-400">Python for Everybody</p>
                            <p class="text-slate-400">University of Michigan (Online) | March 2025</p>
                        </div>
                        <div class="p-4 bg-slate-800 rounded-lg border border-emerald-600/50 hover:border-emerald-500 transition-colors">
                            <p class="font-bold text-emerald-400">Cybersecurity Fundamentals</p>
                            <p class="text-slate-400">Packt | April 2025</p>
                        </div>
                        <div class="p-4 bg-slate-800 rounded-lg border border-emerald-600/50 hover:border-emerald-500 transition-colors">
                            <p class="font-bold text-emerald-400">Wireshark Network Analysis</p>
                            <p class="text-slate-400">Coursera | March 2025</p>
                        </div>
                        <div class="p-4 bg-slate-800 rounded-lg border border-emerald-600/50 hover:border-emerald-500 transition-colors">
                            <p class="font-bold text-emerald-400">Cybersecurity Essentials</p>
                            <p class="text-slate-400">Ignite | August 2024</p>
                        </div>
                        <div class="p-4 bg-slate-800 rounded-lg border border-emerald-600/50 hover:border-emerald-500 transition-colors">
                            <p class="font-bold text-emerald-400">Qubit Dynamics (AI Challenge)</p>
                            <p class="text-slate-400">AI IGNITE Week | October 2025</p>
                        </div>
                        
                    </div>
                </div>

                <!-- Soft Skills -->
                <div class="animate-on-scroll">
                    <h3 class="text-2xl font-semibold mb-4 text-slate-200">Soft & Productivity Skills</h3>
                    <div class="flex flex-wrap gap-3">
                        <span class="skill-chip bg-gray-600/30 text-gray-300 px-4 py-1 rounded-full border border-gray-600">Teamwork</span>
                        <span class="skill-chip bg-gray-600/30 text-gray-300 px-4 py-1 rounded-full border border-gray-600">Project Oversight</span>
                        <span class="skill-chip bg-gray-600/30 text-gray-300 px-4 py-1 rounded-full border border-gray-600">Time Management</span>
                        <span class="skill-chip bg-gray-600/30 text-gray-300 px-4 py-1 rounded-full border border-gray-600">Problem Solving</span>
                        <span class="skill-chip bg-gray-600/30 text-gray-300 px-4 py-1 rounded-full border border-gray-600">MS Office</span>
                    </div>
                </div>
            </div>
        </section>




             <div class="w-full h-px bg-slate-700 mb-24"></div>

        <!-- Projects Section -->
        <section id="projects" class="mb-24">
            <h2 class="text-4xl font-bold mb-10 glow-text border-b border-blue-500/50 pb-2">Design & Figma Projects</h2>
            <div id="project-filters" class="flex flex-wrap gap-2 mb-8">
                <!-- Filters will be generated here -->
            </div>
            <div id="project-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Projects will be generated here -->
            </div>
        </section>

        <!-- Divider -->
        <div class="w-full h-px bg-slate-700 mb-24"></div>





        <!-- 4. RESEARCH & PROJECTS (Sneak Peeks) -->
<section id="projects" class="py-16 md:py-24 border-t border-slate-800 animate-on-scroll">
    <h2 class="text-4xl font-bold mb-12 text-blue-400 text-center">Research & Projects</h2>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 max-w-6xl mx-auto">

        <div class="bg-slate-800 rounded-xl shadow-2xl border-l-4 border-blue-400 hover:shadow-blue-500/20 transition-shadow animate-on-scroll">
            <div class="p-6 sm:p-8">
                <div class="flex justify-between items-start mb-4">
                    <h3 class="text-2xl font-bold text-white">
                      Smart Contracts
                    </h3>
                </div>
                <p class="text-slate-300 mb-4">
                    Implemented Smart Contract , creating it using Solidity.to establish immutable, auditable logic for decentralized processes. Focused on secure, gas-efficient implementation, specifically enabling tamper-proof record keeping and automated, trustless execution of complex decision trees.
                </p>
                <div class="flex flex-wrap gap-2 text-xs">
                    <span class="bg-slate-700 text-slate-300 px-2 py-1 rounded-full">Smart Contract</span>
                    <span class="bg-slate-700 text-slate-300 px-2 py-1 rounded-full">Solidity / Web3</span>
                    <span class="bg-slate-700 text-slate-300 px-2 py-1 rounded-full">Blockchain Security</span>
                </div>
            </div>
        </div>

        <div class="bg-slate-800 rounded-xl shadow-2xl border-l-4 border-emerald-400 hover:shadow-emerald-500/20 transition-shadow animate-on-scroll">
            <div class="p-6 sm:p-8">
                <div class="flex justify-between items-start mb-4">
                    <h3 class="text-2xl font-bold text-white">
                        Retrieval-Augmented Generation (RAG) Agent
                    </h3>
                </div>
                <p class="text-slate-300 mb-4">
                    Engineered a custom RAG Agent designed to Improve sales and customer support by integrating LLMs with vector databases for efficient information retrieval and response generation from Emails By classifing customer inquiries and routing them to the appropriate departments also filtering Spam and irrelevant content.
                </p>
                <div class="flex flex-wrap gap-2 text-xs">
                    <span class="bg-slate-700 text-slate-300 px-2 py-1 rounded-full">RAG LLM Agent</span>
                    <span class="bg-slate-700 text-slate-300 px-2 py-1 rounded-full">Vector Databases</span>
                    <span class="bg-slate-700 text-slate-300 px-2 py-1 rounded-full">Custom LLM Agent</span>
                </div>
            </div>
        </div>

        <div class="bg-slate-800 rounded-xl shadow-2xl border-l-4 border-cyan-400 hover:shadow-cyan-500/20 transition-shadow animate-on-scroll">
            <div class="p-6 sm:p-8">
                <div class="flex justify-between items-start mb-4">
                    <h3 class="text-2xl font-bold text-white">
                        Domain-Specific LLM Fine-Tuning
                    </h3>
                </div>
                <p class="text-slate-300 mb-4">
                    Applied techniques like LoRA/PEFT to perform LLM Fine Tuning on open-source models. This specialized training resulted in superior performance for domain-specific tasks such as advanced classification and technical summarization.
                </p>
                <div class="flex flex-wrap gap-2 text-xs">
                    <span class="bg-slate-700 text-slate-300 px-2 py-1 rounded-full">LLM Fine Tuning</span>
                    <span class="bg-slate-700 text-slate-300 px-2 py-1 rounded-full">LoRA/PEFT</span>
                    <span class="bg-slate-700 text-slate-300 px-2 py-1 rounded-full">PyTorch / Model Eval</span>
                </div>
            </div>
        </div>
        
        <div class="bg-slate-800 rounded-xl shadow-2xl border-l-4 border-amber-400 hover:shadow-amber-500/20 transition-shadow animate-on-scroll">
            <div class="p-6 sm:p-8">
                <div class="flex justify-between items-start mb-4">
                    <h4 class="text-2xl font-bold text-white">
                        Multimodal AI Virtual Voice Assistant with Video
                    </h4>
                </div>
                <p class="text-slate-300 mb-4">
                    Engineered a complete AI Virtual Voice Assistant solution that processes both audio commands and real-time video feeds for contextual, multimodal interactions, leveraging advanced Deep Learning techniques.
                </p>
                <div class="flex flex-wrap gap-2 text-xs">
                    <span class="bg-slate-700 text-slate-300 px-2 py-1 rounded-full">AI Deep Learning</span>
                    <span class="bg-slate-700 text-slate-300 px-2 py-1 rounded-full">Video Processing</span>
                    <span class="bg-slate-700 text-slate-300 px-2 py-1 rounded-full">Multimodal AI</span>
                    <span class="bg-slate-700 text-slate-300 px-2 py-1 rounded-full">TTS/STT</span>
                </div>
            </div>
          
        </div>

        <div class="bg-slate-800 rounded-xl shadow-2xl border-l-4 border-blue-400 hover:shadow-blue-500/20 transition-shadow animate-on-scroll">
            <div class="p-6 sm:p-8">
                <div class="flex justify-between items-start mb-4">
                    <h3 class="text-2xl font-bold text-white">
                        A Secure Blockchain and AI-Based Triage Model
                    </h3>
                    <span class="text-sm font-semibold px-3 py-1 bg-yellow-600/40 text-yellow-300 rounded-full flex-shrink-0">
                        Under Review
                    </span>
                </div>
                <p class="text-slate-300 mb-4">
                    Explores the integration of decentralized ledger technology (Blockchain) with Artificial Intelligence to create a secure, immutable, and highly efficient triage model for health-care systems.
                </p>
                <div class="flex flex-wrap gap-2 text-xs">
                    <span class="bg-slate-700 text-slate-300 px-2 py-1 rounded-full">PyTorch</span>
                    <span class="bg-slate-700 text-slate-300 px-2 py-1 rounded-full">TensorFlow</span>
                    <span class="bg-slate-700 text-slate-300 px-2 py-1 rounded-full">Smart Contracts</span>
                    <span class="bg-slate-700 text-slate-300 px-2 py-1 rounded-full">Security Analysis</span>
                </div>
            </div>
        </div>

        <div class="bg-slate-800 rounded-xl shadow-2xl border-l-4 border-emerald-400 hover:shadow-emerald-500/20 transition-shadow animate-on-scroll">
            <div class="p-6 sm:p-8">
                <div class="flex justify-between items-start mb-4">
                    <h3 class="text-2xl font-bold text-white">
                        Ai model predictions 
                    </h3>
                </div>
                <p class="text-slate-300 mb-4">
                    These are the results of some of the AI models that i have trained these are on Predictive analysis, Classification and Regression tasks also RAG and LLM models to with custom models for various applications.
                </p>
                <div class="flex flex-wrap gap-2 text-xs">
                    <span class="bg-slate-700 text-slate-300 px-2 py-1 rounded-full">Python</span>
                    <span class="bg-slate-700 text-slate-300 px-2 py-1 rounded-full">PyTorch</span>
                    <span class="bg-slate-700 text-slate-300 px-2 py-1 rounded-full">TensorFlow</span>
                    <span class="bg-slate-700 text-slate-300 px-2 py-1 rounded-full">Django</span>
                    <span class="bg-slate-700 text-slate-300 px-2 py-1 rounded-full">Flask</span>
                    <span class="bg-slate-700 text-slate-300 px-2 py-1 rounded-full">React</span>
                </div>
            </div>
        </div>

    </div>

    <h3 class="text-2xl font-semibold mt-16 mb-6 text-slate-200 animate-on-scroll">Awards & Recognition</h3>
    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 animate-on-scroll">
        <div class="bg-slate-800 p-4 rounded-lg border border-slate-700">
            <p class="font-bold text-emerald-400">1st Position in Speed Programming</p>
            <p class="text-slate-400">Kyungdong University Global | October 2025</p>
        </div>
        <div class="bg-slate-800 p-4 rounded-lg border border-slate-700">
            <p class="font-bold text-emerald-400">3rd Position in Tech Competition</p>
            <p class="text-slate-400">Superior University | May 2025</p>
        </div>
    </div>
</section>
        <!-- 5. EXPERIENCE & EDUCATION (Timeline Style) -->
        <section id="experience" class="py-16 md:py-24 border-t border-slate-800 animate-on-scroll">
            <h2 class="text-4xl font-bold mb-12 text-emerald-400">Career Timeline</h2>

            <!-- Timeline Container -->
            <div class="relative pl-8 sm:pl-16">
                <!-- Vertical Line -->
                <div class="absolute top-0 left-0 sm:left-6 w-0.5 h-full timeline-line"></div>

                <!-- Timeline Items -->
                <!-- Item 1: Research Assistant -->

                <!-- Timeline Item for Remote Technical Consultant Role -->
<div class="mb-12 relative animate-on-scroll">
    <!-- Timeline Dot -->
    <!-- Note: Assuming 'timeline-dot' class is defined elsewhere for styling (e.g., setting background color) -->
    <div class="absolute top-1 -left-2 sm:left-4 w-4 h-4 rounded-full bg-emerald-500 border-2 border-slate-900"></div>
    
    <!-- Content Card -->
    <div class="ml-4 sm:ml-8 p-6 bg-slate-800 rounded-xl shadow-xl transition-shadow duration-300 hover:shadow-emerald-500/10">
        
        <!-- Dates -->
        <p class="text-xs font-semibold text-emerald-400 uppercase">Mar 2023 â€“ Present</p>
        
        <!-- Title -->
        <h3 class="text-xl font-bold text-white mt-1">Remote Technical Consultant / Freelancing</h3>
        
        <!-- Company/Location -->
        <p class="text-slate-400 mb-3">Remote </p>
        
        <!-- Description -->
        <ul class="list-disc ml-5 space-y-1 text-slate-300 text-sm">
            <li>Delivered projects in Digital Logic Design, machine learning model creation, and full-stack website programming for a diverse client base.</li>
            <li>Developed and optimized robust machine learning models using PyTorch and TensorFlow for predictive analysis and integrated dynamic web frameworks for professional site launches.</li>
        </ul>
    </div>
</div>


                <div class="mb-12 relative animate-on-scroll">
                    <div class="absolute top-1 -left-2 sm:left-4 w-4 h-4 rounded-full timeline-dot border-2 border-slate-900"></div>
                    <div class="ml-4 sm:ml-8 p-6 bg-slate-800 rounded-xl shadow-xl transition-shadow duration-300 hover:shadow-emerald-500/10">
                        <p class="text-xs font-semibold text-emerald-400 uppercase">Mar 2025 â€“ Present</p>
                        <h3 class="text-xl font-bold text-white mt-1">Research Assistant</h3>
                        <p class="text-slate-400 mb-3">University of Central Punjab, Lahore, Pakistan</p>
                        <ul class="list-disc ml-5 space-y-1 text-slate-300 text-sm">
                            <li>Managed project timelines and ensured timely task completion.</li>
                            <li>Conducted literature reviews to support hypothesis development and identify knowledge gaps.</li>
                        </ul>
                    </div>
                </div>

                <!-- Item 2: Teacher's Assistant -->
                <div class="mb-12 relative animate-on-scroll">
                    <div class="absolute top-1 -left-2 sm:left-4 w-4 h-4 rounded-full timeline-dot border-2 border-slate-900"></div>
                    <div class="ml-4 sm:ml-8 p-6 bg-slate-800 rounded-xl shadow-xl transition-shadow duration-300 hover:shadow-emerald-500/10">
                        <p class="text-xs font-semibold text-emerald-400 uppercase">Jan 2025 â€“ Present</p>
                        <h3 class="text-xl font-bold text-white mt-1">Teacherâ€™s Assistant</h3>
                        <p class="text-slate-400 mb-3">University of Central Punjab, Lahore, Pakistan</p>
                        <ul class="list-disc ml-5 space-y-1 text-slate-300 text-sm">
                            <li>Facilitated personalized learning through tailored instructional methods.</li>
                            <li>Designed interactive lesson plans to engage diverse learners.</li>
                        </ul>
                    </div>
                </div>


                <!-- Item 4: Tutor -->
                <div class="mb-0 relative animate-on-scroll">
                    <div class="absolute top-1 -left-2 sm:left-4 w-4 h-4 rounded-full timeline-dot border-2 border-slate-900"></div>
                    <div class="ml-4 sm:ml-8 p-6 bg-slate-800 rounded-xl shadow-xl transition-shadow duration-300 hover:shadow-emerald-500/10">
                        <p class="text-xs font-semibold text-emerald-400 uppercase">Mar 2021 â€“ May 2021</p>
                        <h3 class="text-xl font-bold text-white mt-1">Tutor (Remote)</h3>
                        <p class="text-slate-400 mb-3">Online</p>
                        <ul class="list-disc ml-5 space-y-1 text-slate-300 text-sm">
                            <li>Provided academic support using structured lesson plans and materials.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
<footer class="mt-20 py-8 bg-slate-950 border-t border-slate-800">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <p class="text-lg font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-emerald-400 mb-4">
            Let's Connect
        </p>
        <div class="flex justify-center flex-wrap gap-4 text-slate-400">
            <a href="mailto:muhammadmusaimran18.10e@gmail.com" class="hover:text-white transition duration-200 flex items-center">
                <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 16 16">
                    <path d="M2.5 3A1.5 1.5 0 0 0 1 4.5v.793c.026.009.051.02.076.032L7.674 8.51c.206.1.446.1.652 0l6.598-3.185A.755.755 0 0 1 15 5.293V4.5A1.5 1.5 0 0 0 13.5 3h-11Z" />
                    <path d="M15 6.954 8.978 9.86a2.25 2.25 0 0 1-1.956 0L1 6.954V11.5A1.5 1.5 0 0 0 2.5 13h11a1.5 1.5 0 0 0 1.5-1.5V6.954Z" />
                </svg>
                muhammadmusaimran18.10e@gmail.com
            </a>
            
            <span class="flex items-center">
                <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 16 16" aria-hidden="true">
                    <path d="m4.922 6.752-1.067.534a7.52 7.52 0 0 0 4.859 4.86l.534-1.068a1 1 0 0 1 1.046-.542l2.858.44a1 1 0 0 1 .848.988V13a1 1 0 0 1-1 1h-2c-.709 0-1.4-.082-2.062-.238a9.012 9.012 0 0 1-6.7-6.7A9.024 9.024 0 0 1 2 5V3a1 1 0 0 1 1-1h1.036a1 1 0 0 1 .988.848l.44 2.858a1 1 0 0 1-.542 1.046Z" />
                    <path d="m11.56 5.5 2.22-2.22a.75.75 0 0 0-1.06-1.06L10.5 4.44V2.75a.75.75 0 0 0-1.5 0v3.5c0 .414.336.75.75.75h3.5a.75.75 0 0 0 0-1.5h-1.69Z" />
                </svg>
                +92 344 0043966 || +82 10 7467 5348
            </span>
        </div>
        <p class="mt-4 text-sm text-slate-600">
            Crafted with the spirit of AI and Blockchain.
        </p>
    </div>
</footer>

    <!-- CHATBOT BUTTON (Floating) - Initially Hidden, Appears on Scroll -->
    <button id="chat-button-float" class="fixed bottom-6 right-6 z-50 p-4 rounded-full bg-blue-600 text-white shadow-xl hover:bg-blue-700 transition duration-300 hidden">
        <!-- Chat Icon -->
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 4v-4z"></path></svg>
    </button>

    <!-- CHATBOT MODAL -->
    <div id="chat-modal" class="fixed inset-0 z-50 modal-bg hidden flex items-end justify-end p-4 transition-opacity duration-300">
        <div class="w-full max-w-sm h-[80vh] sm:h-[600px] bg-slate-800 rounded-xl shadow-2xl flex flex-col border border-slate-700">
            <!-- Header -->
            <div class="p-4 bg-slate-700 rounded-t-xl flex justify-between items-center">
                <h3 class="text-lg font-bold text-white">Ask Musa.AI</h3>
                <button id="close-chat" class="text-slate-400 hover:text-white">
                    <!-- Close Icon (X) -->
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
            </div>

            <!-- Chat Messages -->
            <div id="chat-history" class="flex-grow p-4 space-y-4 overflow-y-auto">
                <div class="flex justify-start">
                    <div class="bg-blue-600/20 text-blue-300 p-3 rounded-lg max-w-[80%]">
                        Hello! I'm Musa's AI assistant. Ask me anything about his skills, projects, or background!
                    </div>
                </div>
            </div>

            <!-- Input Area -->
            <div class="p-4 border-t border-slate-700 flex">
                <input type="text" id="chat-input" placeholder="Ask a question..." class="flex-grow p-3 rounded-l-lg bg-slate-900 text-white border border-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-500" disabled>
                <button id="send-chat" class="p-3 bg-blue-600 text-white rounded-r-lg hover:bg-blue-700 transition duration-150 flex items-center justify-center" disabled>
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 9l3 3m0 0l-3 3m3-3H8m-8 6h20a2 2 0 002-2V5a2 2 0 00-2-2H4a2 2 0 00-2 2v14a2 2 0 002 2z"></path></svg>
                </button>
            </div>
        </div>
    </div>


    <script type="module">
// Set the secure URL path to the serverless proxy function
const CHAT_MODEL_URL = '/api/chat'; 
let history = []; // Stores the conversation history

// --- DATA SECTION ---
// Combined list of projects (design, websites, apps)
const PROJECTS = [
    // Websites
    { name: "Legal Loom", formerName: "Ask Legally", type: "Website", category: "Law", link: "https://www.figma.com/proto/KA3k9Nl6j44I5qE2WRSJlr/Legal-Loom?page-id=0%3A1&node-id=1-1089&viewport=615%2C60%2C0.12&t=fTXiz6dRCtHnPGsj-1&scaling=scale-down-width&content-scaling=fixed" },
    { name: "BBM", formerName: "WBM", type: "Website", category: "Clean Services", link: "https://www.figma.com/proto/Kirvxc95zYFvaWYysylpLE/BBM?page-id=0%3A1&node-id=1-107&viewport=482%2C131%2C0.32&t=W6knmWvQhmAvFRAS-1&scaling=scale-down-width&content-scaling=fixed&starting-point-node-id=1%3A107" },
    { name: "Sonnet", formerName: "Summit", type: "Website", category: "Travelling", link: "https://www.figma.com/proto/23PCdNx9rjL6tk2QyceLYB/Sonnat?page-id=0%3A1&node-id=1-217&viewport=139%2C370%2C0.4&t=Hwr3hM06gWG0WMUg-1&scaling=scale-down-width&content-scaling=fixed&starting-point-node-id=1%3A217" },
    { name: "ZYMAX", formerName: "TZMANN", type: "Website", category: "Sports", link: "https://www.figma.com/proto/AWbBCnG1BD35kxVxF224TV/Zymax?page-id=0%3A1&node-id=0-688&viewport=396%2C367%2C0.13&t=Nrswdj6Vz324TXqX-1&scaling=scale-down-width&content-scaling=fixed&starting-point-node-id=0%3A688" },
    { name: "Mascarade", formerName: "Artista Tour", type: "Website", category: "Travelling", link: "https://www.figma.com/proto/njxRlSBDHdFHZjFm5lpKuL/Mascarade?page-id=0%3A1&node-id=0-2657&viewport=586%2C68%2C0.16&t=AHzNz44CyFBZh0uC-1&scaling=scale-down-width&content-scaling=fixed&starting-point-node-id=0%3A2657" },
    { name: "Aerovision", formerName: "Airscope", type: "Website", category: "Saas", link: "https://www.figma.com/proto/plYlz7EV7ijEDz1XlwnqcV/Airscope?page-id=0%3A1&node-id=1-2&viewport=615%2C222%2C0.12&t=m8NRNO8EI9ULLEVg-1&scaling=scale-down-width&content-scaling=fixed&starting-point-node-id=1%3A2" },
    { name: "Home & Garden", formerName: "", type: "Website", category: "Interior", link: "https://www.figma.com/proto/CBDzPrEjn7JqYucacGMkWO/Home-%26-Garden?page-id=0%3A1&node-id=1-2&viewport=620%2C60%2C0.11&t=k5rUoMJ7unCgsFmP-1&scaling=scale-down-width&content-scaling=fixed&starting-point-node-id=1%3A2" },
    { name: "True Connect", formerName: "", type: "Website", category: "Dating", link: "https://www.figma.com/proto/ft2ouQbdjcgUzCHlmRY4f0/True-Connect?page-id=0%3A1&node-id=1-2&viewport=105%2C328%2C0.51&t=dsTAIIV6iCxc4uYa-1&scaling=scale-down-width&content-scaling=fixed" },
    { name: "Dental B Team", formerName: "", type: "Website", category: "Medical", link: "https://www.figma.com/proto/3LXPB91B1lOE7s7MQLUH6E/Dental-B-Team?page-id=0%3A1&node-id=1-2&viewport=535%2C441%2C0.14&t=W95iD8WH9s9x9bTt-1&scaling=scale-down-width&content-scaling=fixed&starting-point-node-id=1%3A2" },
    { name: "Ella Mason", formerName: "Emma Mason", type: "Website", category: "Interior", link: "https://www.figma.com/proto/IIF9ZFgvcSkj0GTtz2Nx5I/Ella-Mason?page-id=0%3A1&node-id=1-1578&viewport=497%2C195%2C0.27&t=egMszMFcbmQMFWgz-1&scaling=scale-down-width&content-scaling=fixed&starting-point-node-id=1%3A1578" },
    { name: "Dochub", formerName: "Docside", type: "Website", category: "Medical", link: "https://www.figma.com/proto/xQXNeemMEJfSGlR7dY6PUl/Dochub?page-id=0%3A1&node-id=1-2&viewport=648%2C107%2C0.14&t=zd0H5bhEQGtBzTa7-1&scaling=scale-down-width&content-scaling=fixed&starting-point-node-id=1%3A2" },
    { name: "Breads", formerName: "Simply Bread", type: "Website", category: "E-commerce", link: "https://www.figma.com/proto/rC5Dvbr4fqXUxnR0LM6CJ5/Breads?page-id=0%3A1&node-id=0-5&viewport=507%2C333%2C0.3&t=SDvM9PCByWv9i8Kt-1&scaling=scale-down-width&content-scaling=fixed" },
    { name: "Beam .ai", formerName: "Beam it .ai", type: "Website", category: "Digital Art/NFT", link: "https://www.figma.com/proto/XCXyjEAaK22pl5G9qsgeDe/Beam.ai?page-id=13%3A3335&node-id=13-3336&viewport=-828%2C269%2C0.26&t=uHMFJNUZpA9i7miF-1&scaling=scale-down-width&content-scaling=fixed&starting-point-node-id=13%3A3336" },
    { name: "Wineyard", formerName: "", type: "Website", category: "Restaurants", link: "https://www.figma.com/proto/oKqyru8WvUFBX47URIS8ls/Wineyard?page-id=0%3A1&node-id=1-1553&viewport=477%2C265%2C0.62&t=ue8E09NgKsf2Q08d-1&scaling=scale-down-width&content-scaling=fixed" },
    { name: "SparklePros", formerName: "", type: "Website", category: "Clean Services", link: "https://www.figma.com/proto/wUmDjgNjrw60YTgxrRbt2A/SparklePros?page-id=0%3A1&node-id=0-494&viewport=413%2C469%2C0.59&t=QoH4uaLSnqq8NbMH-1&scaling=scale-down-width&content-scaling=fixed" },
    { name: "Conix", formerName: "", type: "Website", category: "Construction", link: "https://www.figma.com/proto/P37jlcFSwXuO3HDv3GXWMp/conix?page-id=0%3A1&node-id=1-58&viewport=91%2C-2721%2C0.75&t=pmDFWUVxeul7zK8f-1&scaling=scale-down-width&content-scaling=fixed" },
    { name: "Code Canvas", formerName: "", type: "Website", category: "Saas", link: "https://www.figma.com/proto/Cn010dvFwmSXR2GA5yMZMa/Code-Canvas?page-id=0%3A1&node-id=1-119&viewport=260%2C574%2C1.43&t=T3qOYnRD1OpDTOGP-1&scaling=scale-down-width&content-scaling=fixed" },
    { name: "Provision", formerName: "", type: "Website", category: "Saas", link: "https://www.figma.com/proto/PBNADGug35fSeRnA9PVQOS/Provision?page-id=0%3A1&node-id=1-102&viewport=234%2C-4016%2C0.81&t=mgPZFe10fzfxkYK6-1&scaling=scale-down-width&content-scaling=fixed&starting-point-node-id=1%3A102" },
    { name: "Blue Lion Group", formerName: "", type: "Website", category: "Agency", link: "https://www.figma.com/proto/nncRmTiX8jW9fTTfxoYuEf/Blue-Lion?page-id=0%3A1&node-id=1-2&viewport=393%2C194%2C0.27&t=vOGHJZVxLzVpRSP9-1&scaling=scale-down-width&content-scaling=fixed&starting-point-node-id=1%3A2" },
    { name: "Affiliate Content Creator", formerName: "", type: "Website", category: "Education", link: "https://www.figma.com/proto/KmWOJmKTo0IT40iccFBR2z/Affiliate-Content-Creator?page-id=148%3A765&node-id=148-769&viewport=403%2C1396%2C0.38&t=B8cHj2jbfYd6baZs-1&scaling=scale-down-width&content-scaling=fixed&starting-point-node-id=148%3A769" },
    { name: "Regency Transportation", formerName: "", type: "Website", category: "Rental", link: "https://www.figma.com/proto/QjKH4gfTB0z2QmZavNDQSO/Regency-Global-Transportation?page-id=2998%3A579&node-id=2998-582&viewport=-673%2C-959%2C0.37&t=W28JXEuMnRW7IQe6-1&scaling=scale-down-width&content-scaling=fixed&starting-point-node-id=2998%3A582&show-proto-sidebar=1" },
    { name: "Exam Tutor", formerName: "", type: "Website", category: "E-commerce", link: "https://www.figma.com/proto/RJDP6JcUyNBMRLcoKPWNjN/Exam-Tutor?page-id=1385%3A10518&node-id=1385-11249&viewport=485%2C981%2C0.15&t=8FGZF6CejksIkBm6-1&scaling=scale-down-width&content-scaling=fixed&starting-point-node-id=1385%3A11249&show-proto-sidebar=1" },
    { name: "Customer City", formerName: "", type: "Website", category: "Cloud Surveillance", link: "https://www.figma.com/proto/6dKzlTKLApyVObP57LfdGL/Customer-City?page-id=2205%3A26507&node-id=2205-26508&viewport=1024%2C177%2C0.08&t=j5IRKl4gjKH8ODCS-1&scaling=scale-down-width&content-scaling=fixed&starting-point-node-id=2205%3A26508&show-proto-sidebar=1" },
    { name: "Internation Talents", formerName: "", type: "Website", category: "Recuitment", link: "https://www.figma.com/proto/Qbt0uqIsvcqRZ1tSE7z5rs/Internation-talents-Home-Page.?page-id=0%3A1&node-id=1-2&viewport=489%2C515%2C0.52&t=G3XgwwjsdyqyRGUO-1&scaling=scale-down-width&content-scaling=fixed&starting-point-node-id=1%3A2&show-proto-sidebar=1" },
    { name: "Translinguist", formerName: "", type: "Website", category: "Saas", link: "https://www.figma.com/proto/cFlVUPRHbFdVE5s6TOrMUL/New-Translinguist?page-id=4998%3A10128&node-id=4998-16806&viewport=330%2C-862%2C0.27&t=11ytrVimzezNmCS4-1&scaling=scale-down-width&content-scaling=fixed" },
    { name: "Plansbid", formerName: "", type: "Website", category: "Saas", link: "https://www.figma.com/proto/49IbhoPmiTFYoFJ0fsT9JN/Plansbid?page-id=0%3A1&node-id=1329-2500&viewport=113%2C-6%2C0.21&t=eO6lJS6H45BrCKos-1&scaling=scale-down-width&content-scaling=fixed&starting-point-node-id=1329%3A2500" },
    { name: "MWhite", formerName: "", type: "Website", category: "Blockchain Marketing", link: "https://www.figma.com/proto/vhv7yVpkgYF0h8sitMptcW/MWhite?page-id=0%3A1&node-id=1-2&p=f&viewport=-220%2C176%2C0.07&t=GLilFg4PhpZALRBP-1&scaling=scale-down-width&content-scaling=fixed&starting-point-node-id=1%3A2&show-proto-sidebar=1" },
    { name: "The Talking Stick", formerName: "", type: "Website", category: "Startups", link: "https://www.figma.com/proto/DKnlsioM3S1FFoXAeGLoSw/The-Talking-Stick?page-id=163%3A445&node-id=166-1963&viewport=831%2C592%2C0.11&t=iadyygvDhQkqxOO0-1&scaling=scale-down-width&content-scaling=fixed" },
    { name: "Construct Estimates", formerName: "", type: "Website", category: "Saas", link: "https://www.figma.com/proto/2xjBgRAEsMFmRjpYqz6r5U/Construct-Estimates-Home-page?page-id=0%3A1&node-id=16-62&viewport=-960%2C279%2C0.39&t=uKiTLbbMuDBG9wPc-1&scaling=scale-down-width&content-scaling=fixed&starting-point-node-id=16%3A62" },
    { name: "The Bottom Line Group", formerName: "", type: "Website", category: "Consultion", link: "https://www.figma.com/proto/phCa8bYmshjyVjLwg2X0Km/Bottom-Line-Group?page-id=894%3A107&node-id=894-108&viewport=-380%2C1150%2C0.28&t=P1bw46B0EMpk2fXa-1&scaling=scale-down-width&content-scaling=fixed&starting-point-node-id=894%3A108&show-proto-sidebar=1" },
    { name: "Impact Diversity Express", formerName: "", type: "Website", category: "Logistics", link: "https://www.figma.com/proto/tmKtCMrOUmYvWcwsTgVulQ/Impact-diversity?page-id=424%3A2&node-id=429-3552&viewport=755%2C1433%2C0.59&t=cH4QJ1i1ebfHi61e-1&scaling=scale-down-width&content-scaling=fixed&starting-point-node-id=429%3A3552&show-proto-sidebar=1" },
    { name: "Custom Filters Direct", formerName: "", type: "Website", category: "Clean Services", link: "https://www.figma.com/proto/Xnv7kiZjzAXZhrcjyW7xaj/Custom-Filter-Direct?page-id=1176%3A2474&node-id=1176-2476&viewport=4010%2C2544%2C0.39&t=lq9XPvz6K3DuhYCG-1&scaling=scale-down-width&content-scaling=fixed&starting-point-node-id=1176%3A2476" },
    { name: "Life Insurance Star", formerName: "", type: "Website", category: "Insurance", link: "https://www.figma.com/proto/W3pfDCSJeoWDLV5taA7iWy/Life-Insurance-Star?page-id=0%3A1&node-id=41-2595&viewport=635%2C452%2C0.16&t=2eIQkjb2hRCfTdpE-1&scaling=scale-down-width&content-scaling=fixed&starting-point-node-id=41%3A2595&show-proto-sidebar=1" },
    { name: "Costal Care Plumbing", formerName: "", type: "Website", category: "Handyman", link: "https://www.figma.com/proto/PKuFOwCKzViMVRIXyizErH/Coastal-Care-Plumbing?page-id=322%3A285&node-id=322-286&viewport=184%2C801%2C0.12&t=zXnu0v7IYuA7YvqG-1&scaling=scale-down-width&content-scaling=fixed&starting-point-node-id=322%3A286" },
    { name: "Search Pros", formerName: "", type: "Website", category: "SEO Agency", link: "https://www.figma.com/proto/5SzsfQkrGB5C6cYJnebuRe/Search-Pros?page-id=1774%3A1633&node-id=1774-1638&viewport=448%2C796%2C0.15&t=btgSwUC0gt1vIOvj-1&scaling=scale-down-width&content-scaling=fixed&starting-point-node-id=1774%3A1638" },
    { name: "Rising Tide Real Estate", formerName: "", type: "Website", category: "Real Estate", link: "https://www.figma.com/proto/bAJPMRAaozrsrmGiqdbnu9/Rising-Tide-Real-Estate?page-id=749%3A186&node-id=749-1604&viewport=1754%2C1684%2C0.37&t=DBFhGIQfatFztL7d-1&scaling=scale-down-width&content-scaling=fixed&starting-point-node-id=749%3A1604&show-proto-sidebar=1" },
    { name: "Kam Wheelers", formerName: "", type: "Website", category: "Investment", link: "https://www.figma.com/proto/NlVvwBRinp2epwFKOPIlMo/Kam-Wheelers?page-id=0%3A1&node-id=75-79&viewport=-226%2C68%2C0.23&t=82ctk7kFoEMdHuKU-1&scaling=scale-down-width&content-scaling=fixed" },
    { name: "Sinc AV", formerName: "", type: "Website", category: "Events", link: "https://www.figma.com/proto/XEazfNdt7JXTMIznUoGGNx/SINC-AV?page-id=0%3A1&node-id=1-2&viewport=374%2C148%2C0.18&t=oANtsqQwV1PVl3W9-1&scaling=scale-down-width&content-scaling=fixed" },
    { name: "Wyatt Incorporated", formerName: "", type: "Website", category: "Construction", link: "https://www.figma.com/proto/Ewnwy4beEJQ7gzYxNwp3l3/Wayatt-Incorporated?page-id=689%3A737&node-id=689-1088&viewport=-31%2C327%2C0.21&t=XDJ6VBbLfGrrQXZu-1&scaling=scale-down-width&content-scaling=fixed&starting-point-node-id=689%3A1088&show-proto-sidebar=1" },
    { name: "Bananas Marketing", formerName: "", type: "Website", category: "Marketing Agency", link: "https://www.figma.com/proto/wzyE1YF139UlmuC8rrR9qR/New-Banana-Marketing?page-id=336%3A13&node-id=338-17609&viewport=1886%2C-9729%2C0.26&t=Hk0fYseES13SJbkf-1&scaling=scale-down-width&content-scaling=fixed&starting-point-node-id=338%3A33595" },
    { name: "Chris Watson Travel", formerName: "", type: "Website", category: "Travelling", link: "https://www.figma.com/proto/nsYb2r9ontESdcMVNhJGhL/Chris-watson-travel---Wix-Website-Design?page-id=188%3A35&node-id=188-36&viewport=127%2C359%2C0.11&t=EdV01QFKulYpRsn7-1&scaling=scale-down-width&content-scaling=fixed&starting-point-node-id=188%3A492&show-proto-sidebar=1" },
    { name: "Impact Diversity", formerName: "", type: "Website", category: "Logistics", link: "https://www.figma.com/proto/tmKtCMrOUmYvWcwsTgVulQ/Impact-diversity?page-id=49%3A70&node-id=49-72&viewport=761%2C1331%2C0.57&t=LZCVNRyw60MPGlKd-1&scaling=scale-down-width&content-scaling=fixed&starting-point-node-id=49%3A72" },
    { name: "The Health Guys", formerName: "", type: "Website", category: "Medical", link: "https://www.figma.com/proto/cl1jB0BWwmssH7copjVfkC/The-Health-Guys?page-id=0%3A1&node-id=2-2&viewport=288%2C199%2C0.41&t=gQsfQtfQ5s9dAZQC-1&scaling=scale-down-width&content-scaling=fixed&starting-point-node-id=2%3A2" },
    // Web Apps
    { name: "What's in the Kitchen", formerName: "", type: "Web App", category: "Saas", link: "https://www.figma.com/proto/QOEmGCzcR5gdzXbmC1XdWc/What-In-the-Kitchen?page-id=349%3A22&node-id=357-14&viewport=627%2C348%2C0.11&t=vhPnuvIw4uidrNLg-1&scaling=scale-down-width&content-scaling=fixed&starting-point-node-id=357%3A14&show-proto-sidebar=1" },
    { name: "FlowKeeping", formerName: "", type: "Web App", category: "Saas", link: "https://www.figma.com/proto/iMUGqvPHGrg4JX98F7KM0b/Flow-Keeping-Client-Portal?page-id=1374%3A1860&node-id=1374-1863&viewport=-193%2C-163%2C0.34&t=ByNFEwUCol9WGCQK-1&scaling=scale-down-width&content-scaling=fixed&starting-point-node-id=1374%3A5112" },
    { name: "Pifperfect", formerName: "", type: "Web App", category: "Saas", link: "https://www.figma.com/proto/BcbT4LJbNoDfFAhdBbaahc/PIFPerfect?page-id=406%3A7896&node-id=406-12389&viewport=4483%2C7984%2C0.15&t=HsumUxV3imrfLo1C-1&scaling=scale-down-width&content-scaling=fixed&starting-point-node-id=406%3A12389&show-proto-sidebar=1" },
    { name: "Storypet", formerName: "", type: "Web App", category: "Saas", link: "https://www.figma.com/proto/i6rM3rDYPGAGxoUWLfRwLD/StoryPet?page-id=1164%3A5532&node-id=1164-5533&p=f&viewport=225%2C641%2C0.1&t=eS76Q3WOKmNIVSjS-1&scaling=scale-down-width&content-scaling=fixed&starting-point-node-id=1164%3A5533" },
    { name: "Inbox Please", formerName: "", type: "Web App", category: "Saas", link: "https://www.figma.com/proto/f9uNa11CUBcFL4yafiw9iS/InboxPlease1?page-id=1699%3A2&node-id=1699-3&viewport=697%2C542%2C0.04&t=QiYhm29PcfwR8gCY-1&scaling=scale-down-width&content-scaling=fixed&starting-point-node-id=1699%3A3" },
    // Mobile Apps
    { name: "Top Gear", formerName: "", type: "Mobile App", category: "Saas", link: "https://www.figma.com/proto/PCRm2XysSt08cSUbRXLI8N/Top-Gear?page-id=1900%3A23225&node-id=1900-23226&viewport=511%2C278%2C0.04&t=zslyrsXbmdESCfFA-1&scaling=scale-down-width&content-scaling=fixed&starting-point-node-id=1900%3A23226" },
    { name: "Safe N Simple", formerName: "", type: "Mobile App", category: "Saas", link: "https://www.figma.com/proto/d4zpYhjtRlqLFZ19BCLm2N/Safe-n-Simple-App-Design?page-id=984%3A2246&node-id=984-2451&node-type=canvas&viewport=-587%2C-769%2C0.24&t=spynS6rnGo3UCqv4-1&scaling=min-zoom&content-scaling=fixed&starting-point-node-id=984%3A2247" },
    { name: "Inner Quest", formerName: "", type: "Mobile App", category: "Saas", link: "https://www.figma.com/proto/byuJs6sGtJcPXUB89MTiGQ/InnerQuest-Mobile-App?node-id=135-4069&node-type=frame&t=YtL8tG9dBxtKt4Sy-1&scaling=scale-down&content-scaling=fixed&page-id=135%3A940&starting-point-node-id=135%3A3947" },
    { name: "BNB Carter", formerName: "", type: "Mobile App", category: "Saas", link: "https://www.figma.com/proto/n1iMEDQphlEziWVnls8VyO/BNBbarter?page-id=55%3A1324&node-id=55-7936&p=f&viewport=-6492%2C150%2C0.45&t=ebYKsxbiXY4hTay4-1&scaling=min-zoom&content-scaling=fixed&starting-point-node-id=55%3A7936" }
];

// --- DOM ELEMENTS ---
const projectListEl = document.getElementById('project-list');
const projectFiltersEl = document.getElementById('project-filters');

// Chat DOM Elements
const chatButtonTop = document.getElementById('chat-button-top');
const chatButtonFloat = document.getElementById('chat-button-float');
const chatModal = document.getElementById('chat-modal');
const closeChat = document.getElementById('close-chat');
const chatHistoryDiv = document.getElementById('chat-history'); // This is where messages are displayed
const chatInput = document.getElementById('chat-input');
const sendButton = document.getElementById('send-chat');

const SCROLL_THRESHOLD = 300; // Distance in pixels to scroll before changing the button


// --- PROJECT DISPLAY LOGIC ---

function getCategories() {
    const categories = new Set();
    PROJECTS.forEach(project => {
        categories.add(project.category);
        categories.add(project.type);
    });
    const sortedCategories = Array.from(categories).sort();
    sortedCategories.unshift('All'); // Add 'All' to the beginning
    return sortedCategories;
}

function createProjectCard(project) {
    const card = document.createElement('div');
    const formerNameHtml = project.formerName 
        ? `<p class="text-xs text-slate-500 mt-1">Formerly: ${project.formerName}</p>`
        : '';
    
    card.className = `p-6 bg-slate-800 rounded-xl glow-card transform hover:shadow-xl hover:shadow-blue-500/30 transition duration-300 project-item ${project.category.replace(/[^a-zA-Z0-9]/g, '-')} ${project.type.replace(/\s/g, '-')}`;
    card.setAttribute('data-category', project.category);
    card.setAttribute('data-type', project.type);
    
    card.innerHTML = `
        <div class="flex justify-between items-start mb-3">
            <span class="text-sm font-semibold text-white bg-blue-600/50 px-3 py-1 rounded-full">${project.type}</span>
            <span class="text-sm font-semibold text-white bg-emerald-600/50 px-3 py-1 rounded-full">${project.category}</span>
        </div>
        <h3 class="text-xl font-bold text-blue-300 mb-1">${project.name}</h3>
        ${formerNameHtml}
        <a href="${project.link}" target="_blank" class="mt-4 inline-block text-sm font-medium text-blue-400 hover:text-blue-300 transition hover:underline">
            View Figma Prototype &rarr;
        </a>
    `;
    return card;
}

function renderProjects(filter = 'All') {
    projectListEl.innerHTML = '';
    const filteredProjects = PROJECTS.filter(project => 
        filter === 'All' || project.category === filter || project.type === filter
    );

    filteredProjects.forEach(project => {
        projectListEl.appendChild(createProjectCard(project));
    });
}

function setupFilters() {
    const categories = getCategories();
    projectFiltersEl.innerHTML = '';

    categories.forEach(category => {
        const button = document.createElement('button');
        button.textContent = category;
        // Use sendButton in place of sendBtnEl
        button.className = `filter-btn text-sm px-4 py-2 rounded-full text-slate-300 hover:bg-slate-700`;
        button.addEventListener('click', () => {
            document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active', 'bg-blue-500', 'text-white'));
            button.classList.add('active', 'bg-blue-500', 'text-white');
            renderProjects(category);
        });
        projectFiltersEl.appendChild(button);
    });
    // Automatically click the 'All' button on load
    const allButton = projectFiltersEl.querySelector('.filter-btn');
    if(allButton) allButton.click();
}


// --- CHATBOT CORE LOGIC (V2 with Error Handling) ---

function handleSend() {
    const userText = chatInput.value.trim();
    if (userText === '') return;
    
    // Disable input and button while sending
    chatInput.disabled = true;
    sendButton.disabled = true;

    // 1. Display User Message
    appendMessage(userText, 'user');
    
    // 2. Add to History
    history.push({ role: 'user', parts: [{ text: userText }] });

    // 3. Clear Input
    chatInput.value = '';

    // 4. Display Loading Indicator
    const loadingElement = appendMessage('', 'ai', true);
    
    // Define the portfolio context (System Instruction)
    const systemInstruction = "You are an expert AI assistant for a developer named Muhammad Musa. Your goal is to answer questions about his portfolio and projects using a helpful, friendly, and professional tone. Keep answers concise. Do not mention that you are an AI or large language model. Always refer to him as 'Muhammad Musa' or 'he/him'. Muhammad Musa is a dynamic student specializing in Artificial Intelligence and Blockchain currently pursuing an exchange program at Kyungdong University Global while completing his B.S. in AI (expected 2027) from the University of Central Punjab. He possesses strong technical skills in Python, PyTorch, and TensorFlow, backed by certifications in Deep Learning, AI, and Cybersecurity.His key achievement is the development of a novel Secure Blockchain and AI-Based Triage Model for Emergency & Healthcare Systems, which is currently under peer review. Professionally, he has experience as a Freelancer (delivering ML and full-stack projects), a Research Assistant (conducting literature reviews and managing project timelines), and a Teacher's Assistant for the Faculty of Information and Technology (FOIT).He demonstrates strong leadership through roles such as Vice President of the Crypto Verse (Blockchain Society) and Lead Head of the Society of Electronics and Telecommunication (SET), alongside multiple programming competition victories. His future plan is focused on developing AI modules, Android apps, and contributing to the community.";

    sendMessage(history, systemInstruction)
        .then(aiResponse => {
            // 5. Replace Loading with AI Response
            loadingElement.remove();
            appendMessage(aiResponse, 'ai');
            
            // 6. Add AI Response to History
            history.push({ role: 'model', parts: [{ text: aiResponse }] });
        })
        .catch(error => {
            console.error("Chat Error:", error);
            loadingElement.remove();
            
            // Display specific error message
            const errorMessage = error.message.includes("403") 
                                 ? "Authorization Failed. Check the GEMINI_API_KEY on the server."
                                 : error.message.includes("500") 
                                 ? "Serverless function error. Check proxy logs or API Key configuration." 
                                 : `Oops! There was an issue: ${error.message}`;
                                 
            appendMessage(`Error: ${errorMessage}`, 'ai');
            
            // Remove the user message from history on failure to retry cleanly
            history.pop(); 
        })
        .finally(() => {
            // Re-enable input and button, but only if input isn't empty (handles initial state)
            chatInput.disabled = false;
            sendButton.disabled = chatInput.value.trim() === '';
            chatInput.focus();
        });
}

function appendMessage(text, sender, isLoading = false) {
    const messageContainer = document.createElement('div');
    messageContainer.className = `message-box ${sender}-message`;

    if (isLoading) {
        // If loading, display the spinner
        messageContainer.innerHTML = `<div class="loader"></div>`;
        messageContainer.classList.add('flex', 'items-center');
    } else {
        // Display the text
        messageContainer.innerText = text;
    }
    
    chatHistoryDiv.appendChild(messageContainer);
    // Auto-scroll to the bottom
    chatHistoryDiv.scrollTop = chatHistoryDiv.scrollHeight;
    return messageContainer;
}

async function sendMessage(history, systemInstruction) {
    const payload = {
        contents: history,
        systemInstruction: {
            parts: [{ text: systemInstruction }]
        },
    };

    // Exponential Backoff implementation
    for (let attempt = 0; attempt < 3; attempt++) {
        try {
            // Fetch call goes to the local proxy route /api/chat
            const response = await fetch(CHAT_MODEL_URL, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload) 
            });

            if (!response.ok) {
                // Handle rate limiting specifically
                if (response.status === 429 && attempt < 2) {
                    await new Promise(resolve => setTimeout(resolve, Math.pow(2, attempt + 1) * 1000));
                    continue;
                }
                // Throw general error for other non-OK statuses
                const errorDetails = await response.json().catch(() => ({}));
                const errorMsg = errorDetails.error || errorDetails.details?.message || response.statusText;
                throw new Error(`Proxy call failed (${response.status}): ${errorMsg}`);
            }

            const result = await response.json();
            const text = result.candidates?.[0]?.content?.parts?.[0]?.text || "Sorry, I couldn't generate a response.";
            return text;

        } catch (error) {
            if (attempt === 2) throw error; // Throw the error on the final attempt
            // Wait for exponential backoff before the next attempt
            await new Promise(resolve => setTimeout(resolve, Math.pow(2, attempt + 1) * 1000));
        }
    }
}


// --- SCROLL AND INITIALIZATION LOGIC ---

function handleScroll() {
    if (window.scrollY > SCROLL_THRESHOLD) {
        // Scrolled down: show floating button, hide top bar button
        chatButtonFloat.classList.remove('hidden');
        chatButtonTop.style.opacity = '0';
        chatButtonTop.style.pointerEvents = 'none'; // Disable clicks on hidden bar
    } else {
        // Near top: hide floating button, show top bar button
        chatButtonFloat.classList.add('hidden');
        chatButtonTop.style.opacity = '1';
        chatButtonTop.style.pointerEvents = 'auto'; // Enable clicks on visible bar
    }
}

document.addEventListener('DOMContentLoaded', () => {
    setupFilters();

    // --- CHAT MODAL TOGGLE EVENTS ---
    
    // Open chat from Top Button
    chatButtonTop.addEventListener('click', () => {
        chatModal.classList.remove('hidden');
    });
    
    // Open chat from Floating Button
    chatButtonFloat.addEventListener('click', () => {
        chatModal.classList.remove('hidden');
    });

    // Close chat
    closeChat.addEventListener('click', () => {
        chatModal.classList.add('hidden');
    });

    // Close chat on outside click
    chatModal.addEventListener('click', (e) => {
        if (e.target === chatModal) {
            chatModal.classList.add('hidden');
        }
    });

    // Enable send button when there is input
    chatInput.addEventListener('input', () => {
        sendButton.disabled = chatInput.value.trim() === '';
    });
    
    // Handle send button click
    sendButton.addEventListener('click', handleSend);

    // Handle Enter key press
    chatInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter' && !sendButton.disabled) {
            handleSend();
        }
    });

    // Set up scroll listener
    window.addEventListener('scroll', handleScroll);
});



        // --- Firebase Initialization (Required for the Canvas Environment) ---
        let firebaseInitialized = false;
        let db, auth;
        let userId = 'loading'; // Default state

        async function initializeFirebase() {
            try {
                // Dynamic imports must be used for conditional loading in a module script
                const appModule = await import("https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js");
                const authModule = await import("https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js");
                const firestoreModule = await import("https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js");

                const { initializeApp } = appModule;
                const { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } = authModule;
                const { getFirestore, setLogLevel } = firestoreModule;

                const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
                let firebaseConfig = {};
                
                try {
                    if (typeof __firebase_config === 'string' && __firebase_config) {
                        firebaseConfig = JSON.parse(__firebase_config);
                    } else {
                        throw new Error("Empty Firebase Config.");
                    }
                } catch (e) {
                    console.error("Failed to parse firebase config:", e);
                    throw new Error("Invalid Firebase Config.");
                }
                
                const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;

                const app = initializeApp(firebaseConfig);
                db = getFirestore(app);
                auth = getAuth(app);
                setLogLevel('Debug'); // Enable Firestore logging

                if (initialAuthToken) {
                    await signInWithCustomToken(auth, initialAuthToken).catch(e => {
                        console.error("Custom token sign in failed. Falling back to anonymous sign-in.", e);
                        return signInAnonymously(auth); // Fallback to anonymous sign-in
                    });
                } else {
                    await signInAnonymously(auth); // Sign in anonymously if no token
                }

                onAuthStateChanged(auth, (user) => {
                    if (user) {
                        userId = user.uid;
                    } else {
                        userId = crypto.randomUUID(); // Fallback ID
                    }
                    // Enable chat input only after auth state is determined
                    chatInput.disabled = false;
                    sendButton.disabled = false;
                    firebaseInitialized = true;
                });

            } catch (e) {
                console.warn("Firebase initialization failed/skipped:", e.message);
                chatInput.disabled = false;
                sendButton.disabled = false;
            }
        }

        if (typeof __firebase_config !== 'undefined') {
            initializeFirebase();
        } else {
            // If no firebase globals are provided, enable chat immediately since Firebase is not needed for Gemini API.
            chatInput.disabled = false;
            sendButton.disabled = false;
            console.info("Firebase not initialized. Continuing with core portfolio features.");
        }


        // --- NEW: PARTICLE ANIMATION GENERATOR ---
        function createParticles(containerId, count) {
            const container = document.getElementById(containerId);
            const colors = ['#3b82f6', '#10b981', '#ffffff']; // Blue, Emerald, White
            const numColumns = 10; // For better initial positioning spread

            for (let i = 0; i < count; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');
                
                // Random size (20px to 80px)
                const size = Math.random() * 60 + 20;
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                
                // Random initial position based on a grid pattern for better spread
                const col = i % numColumns;
                const row = Math.floor(i / numColumns);
                particle.style.left = `${(col / numColumns) * 100 + (Math.random() * 5 - 2.5)}vw`; // Spread across X with slight randomness
                particle.style.top = `${(row / (count / numColumns)) * 100 + (Math.random() * 5 - 2.5)}vh`; // Spread across Y with slight randomness

                // Random color
                const color = colors[Math.floor(Math.random() * colors.length)];
                particle.style.backgroundColor = color;
                
                // Apply animation properties
                particle.style.animationDuration = `${Math.random() * 15 + 15}s`; // 15s to 30s duration
                particle.style.animationDelay = `-${Math.random() * 30}s`; // Stagger start (up to 30s offset)
                
                // Adjust the box-shadow for a color-specific glow
                particle.style.boxShadow = `0 0 10px ${color}80, 0 0 20px ${color}60`;
                
                container.appendChild(particle);
            }
        }


        // --- SCROLL ANIMATION LOGIC (Intersection Observer) ---
        document.addEventListener("DOMContentLoaded", () => {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('fade-in');
                        observer.unobserve(entry.target);
                    }
                });
            }, {
                root: null,
                rootMargin: '0px',
                threshold: 0.1 // Trigger when 10% of the item is visible
            });

            document.querySelectorAll('.animate-on-scroll').forEach(section => {
                observer.observe(section);
            });
            
            // Initial call for scroll check
            handleScroll();

            // NEW: Initialize background particles
            createParticles('background-animation-container', 15); 
        });
        





    </script>
</body>
</html>
